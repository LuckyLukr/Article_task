[{"C:\\Users\\mrluk\\Documents\\projects\\react-assignment\\react-assignment\\src\\index.js":"1","C:\\Users\\mrluk\\Documents\\projects\\react-assignment\\react-assignment\\src\\App.js":"2","C:\\Users\\mrluk\\Documents\\projects\\react-assignment\\react-assignment\\src\\Components\\ArticleComponent\\Article.component.jsx":"3","C:\\Users\\mrluk\\Documents\\projects\\react-assignment\\react-assignment\\src\\Components\\CommentsComponent\\MoreComments.component.jsx":"4","C:\\Users\\mrluk\\Documents\\projects\\react-assignment\\react-assignment\\src\\Components\\CommentsComponent\\Comment.component.jsx":"5"},{"size":147,"mtime":1611869360482,"results":"6","hashOfConfig":"7"},{"size":4715,"mtime":1611866779536,"results":"8","hashOfConfig":"7"},{"size":608,"mtime":1611848065128,"results":"9","hashOfConfig":"7"},{"size":718,"mtime":1611841781014,"results":"10","hashOfConfig":"7"},{"size":715,"mtime":1611841958962,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"wcpa54",{"filePath":"15","messages":"16","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"17","usedDeprecatedRules":"14"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20","usedDeprecatedRules":"14"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"C:\\Users\\mrluk\\Documents\\projects\\react-assignment\\react-assignment\\src\\index.js",[],["26","27"],"C:\\Users\\mrluk\\Documents\\projects\\react-assignment\\react-assignment\\src\\App.js",["28"],"import React, { useState, useEffect} from 'react';\nimport moment from 'moment';\nimport './App.css';\n\nimport Article from './Components/ArticleComponent/Article.component';\nimport Comments from './Components/CommentsComponent/Comment.component';\nimport MoreComments from './Components/CommentsComponent/MoreComments.component';\n\nfunction App() {\n  const [article, setArticle] = useState({})\n  const [comments, setComments ] = useState([]);\n  const [moreComments, setMoreComments ] = useState([]);\n  const [showMoreComments, setShowMoreComments] = useState(false);\n\n  useEffect(() => {\n    sortComments()\n  }, [comments.length,moreComments.length])\n\n  function sortComments() {\n    comments.push(...moreComments);\n    comments.sort((a, b) => {\n        let dateA = a.date.toUpperCase();\n        let dateB = b.date.toUpperCase();\n        if (dateA < dateB) {\n          return 1;\n        }\n        if (dateA > dateB) {\n          return -1;\n        }\n        return 0;\n    });\n    const removed = comments.splice(2)\n    return setMoreComments(removed);\n  }\n\n  function fetchArticle() {\n    return new Promise(resolve => {\n            setTimeout(() => {\n              resolve(document.__article);\n            }, 2000);\n          });\n  }\n\n  function fetchComments() {\n    return new Promise(resolve => {\n            setTimeout(() => {\n              resolve(document.__comments);\n            }, 2000);\n          });\n  }\n\n  function fetchMoreComments() {\n    return new Promise(resolve => {\n            setTimeout(() => {\n              resolve(document.__moreComments);\n            }, 2000);\n          });\n  }\n\n  async function loadArticle() {\n    const article = await fetchArticle();\n    return setArticle(article);\n  }\n\n  async function loadComments() {\n    await loadArticle();\n    const comments = await fetchComments();\n    return setComments(comments);\n  }\n\n  async function loadMoreComments() {\n    const moreComments = await fetchMoreComments();\n    return setMoreComments(moreComments);\n  }\n\n  function handleMoreComments() {\n    if (showMoreComments) {\n      setShowMoreComments(false);\n    } else if (moreComments.length === 0) {\n      setShowMoreComments(true);\n      loadMoreComments();\n    } else {\n      setShowMoreComments(true);\n    }\n  }\n\n  loadArticle();\n  loadComments();\n\n  const commentsList = comments.map( element => \n    <Comments \n      id={element.id}\n      author={element.author}\n      time={moment.utc(element.date).format('HH:mm')}\n      date={moment.utc(element.date).format('DD/MM/YYYY')}\n      text={element.text}    \n    />\n  );\n  const moreCommentsList = moreComments.map( element => \n    <MoreComments \n      id={element.id}\n      author={element.author}\n      time={moment.utc(element.date).format('HH:mm')}\n      date={moment.utc(element.date).format('DD/MM/YYYY')}\n      text={element.text}    \n    />\n  );\n\n  return (\n    <div className=\"app\">\n\n      <div style={{display: article.author === undefined ? 'block' : 'none'}} className='onLoading'>\n        <img src='https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif' alt='loading...' style={{height: '150px'}} />\n      </div>\n      <div style={{display: article.author === undefined ? 'none' : 'flex'}} className='content'>\n        <Article \n          author={article.author} \n          text={article.text} \n          date={moment.utc(article.date).format('DD/MM/YYYY')} \n          time={moment.utc(article.date).format('HH:mm')}\n          />\n\n        <div style={{display: comments.length === 0 ? 'none' : 'grid'}} className='commentsContainer'>\n\n          <ul>\n              {commentsList}\n              { showMoreComments ? moreCommentsList : null }\n          </ul>\n\n          <div className='showMoreBtnContainer'>\n\n              <div style={{display: showMoreComments && moreComments.length === 0 ? 'block' : 'none'}} className='onLoading'>\n                <img src='https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif' alt='loading...' style={{height: '150px'}} />\n              </div>\n\n              <button style={{display: showMoreComments && moreComments.length === 0 ? 'none' : 'block'}} \n                      type='submit' \n                      className='showMoreBtn' \n                      onClick={() => handleMoreComments()} >\n                  { showMoreComments ? <span>Hide comments</span> : <span>More comments</span>}\n              </button>\n\n          </div>\n        </div>\n\n        <div style={{display: comments.length === 0 ? 'block' : 'none'}} className='onLoading'>\n          <img src='https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif' alt='loading...' style={{height: '150px'}} />\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\mrluk\\Documents\\projects\\react-assignment\\react-assignment\\src\\Components\\ArticleComponent\\Article.component.jsx",["29"],"import React from 'react';\r\nimport moment from 'moment';\r\n\r\nimport './Article.component.css';\r\n\r\nfunction Article(props) {\r\n\r\n    return(\r\n        <div className='articleContainer'>\r\n\r\n            <div className='articleHeader'>\r\n                {props.author}\r\n            </div>\r\n\r\n            <article>{props.text}</article>\r\n\r\n            <div className='articleFooter'>\r\n                <div className='articleDate'>\r\n                    <span>published at: {props.date} / {props.time}</span>\r\n                </div>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Article;","C:\\Users\\mrluk\\Documents\\projects\\react-assignment\\react-assignment\\src\\Components\\CommentsComponent\\MoreComments.component.jsx",[],["30","31"],"C:\\Users\\mrluk\\Documents\\projects\\react-assignment\\react-assignment\\src\\Components\\CommentsComponent\\Comment.component.jsx",[],{"ruleId":"32","replacedBy":"33"},{"ruleId":"34","replacedBy":"35"},{"ruleId":"36","severity":1,"message":"37","line":17,"column":6,"nodeType":"38","endLine":17,"endColumn":43,"suggestions":"39"},{"ruleId":"40","severity":1,"message":"41","line":2,"column":8,"nodeType":"42","messageId":"43","endLine":2,"endColumn":14},{"ruleId":"32","replacedBy":"44"},{"ruleId":"34","replacedBy":"45"},"no-native-reassign",["46"],"no-negated-in-lhs",["47"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'sortComments'. Either include it or remove the dependency array.","ArrayExpression",["48"],"no-unused-vars","'moment' is defined but never used.","Identifier","unusedVar",["46"],["47"],"no-global-assign","no-unsafe-negation",{"desc":"49","fix":"50"},"Update the dependencies array to be: [comments.length, moreComments.length, sortComments]",{"range":"51","text":"52"},[608,645],"[comments.length, moreComments.length, sortComments]"]